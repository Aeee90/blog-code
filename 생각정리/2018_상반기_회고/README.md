# 2018년 상반기 회고

[2017년 회고](https://brunch.co.kr/@jojoldu/19)에서 얘기했었지만, 이제부터는 1년 단위가 아닌 분기 혹은 반기 단위로 회고를 남길 계획이다.  
원래는 분기 단위로 하려고 했었지만, [3월에 개인 사정](https://brunch.co.kr/@jojoldu/27)으로 1분기가 그냥 지나가버리고 4월부터는 신규 프로젝트로 바빠서 어쩔수 없이 상반기로 회고를 하게 됐다.  
  
상반기인데 7월도 아니고 웬 8월에 상반기 회고냐 라고 생각할수도 있다.  
회사 프로젝트가 7월말에 최종 오픈하고 8월초에는 오픈 후 데이터 보정 작업과 안정화 작업을 하다보니 늦어지게 됐다.  
그래도 프로젝트가 잘 끝나서 기분 좋게 회고를 쓴다.

## 회사

회사의 일은 2개로 분리할 수 있을것 같다.

### 1 ~ 2 월 - 정산 시스템 운영

기억이 가물가물해서 Jira 티켓 날짜를 보니 1월까지는 신규 SAP 연동 시스템 연동작업을 계속 했었다.  
2017년에는 정산 파트의 연동이 있었고, 1월에는 포인트, 세금계산서 등등 정산 외 다른 서비스들의 연동을 진행했었다.  
이미 플랫폼 형식으로 코드가 작성되서 크게 문제가 될건 없었다.  
만들 당시에는 스스로 칭찬을 했었지만, 현재 다시 보니 코드가 문제가 많았다.  
너무 추상화시키고, 재사용성을 강조하다보니 하위 모듈에서만 특별한 로직이 들어가야할때 내가 열어놓은 부분 외에는 추가하기가 정말 어렵겠다는 생각이 들었다.  
  
잘못된 추상화가 얼마나 부담스러운지 직접 경험하게 되었다.  
  
2월은 대부분이 검증 로직과 자동화 작업, 운영 업무였다.  
예를 들어 정산 플랫폼에서 엑셀로 검증하던 작업을 플랫폼 내에서 바로 확인이 가능하게 한다던지, 각 서비스에서 넘어오는 매출 데이터들에 대한 사전 검증 로직을 좀 더 빡빡하게 추가한다던지 등등을 진행했었다.  
  
어느 회사에서나 하는 운영 대응과 개선 작업을 했다고 생각한다.  
그리고 확실히 깨닫게 된 것은 **Jenkins + Spring Batch 조합은 환상적이다**.  
모든걸 Spring MVC + Tomcat (Spring Boot Web) 으로만 해결하려고 했던 나에게 아주 좋은 시간이였다.

### 4 ~ 7월 - 신규 포인트 시스템 구축

기존 포인트 시스템이 회사 초창기에 만들어져 있었다.  
그러다보니 프로시져로 모든 기능이 처리되고 있었고, 여기저기서 API 호출이 아닌 포인트의 프로시져를 호출하다보니 도대체 이 프로시져가 누가 쓰고 있는지 알 수가 없었다.  
프로시져로 처디하다보니 테스트 코드도 전혀 없었고, 테이블 모델이 구멍이 있어 문제가 발생할때 해결하기가 너무 어려웠다.  
  
우리 팀이 포인트 시스템을 가져가야하는 시기가 되자 팀장님은 곧장 받자마자 바로 개편을 결정하셨다.  

그래서 3월에 쉬면서 AWS 공부도 하면서 포인트 도메인을 고민했다.  
나라면 포인트 시스템을 어떻게 만들까 하면서 시범삼아 [코드](https://github.com/jojoldu/point)를 작성해보기도 했다.  

> 근데 실제로 이 도메인, 코드대로는 안갔다.  
회사와서 팀분들과 논의하고 회사 포인트 도메인을 까보니 혼자서 고민했던대로는 도저히 안되겠더라.





4월에 복직하고 포인트 시스템 개편 일정을 논의했다.  
4월 중순에 시작해서 7월에 오픈하고 인원은 개발자 3명이라고 결정됐을때 이게 3개월만에 가능한건가 라고 잠깐 생각을 했었다.  

(와 근데 하반기는 더 큰 산이 있을줄 누가 알았으랴.. 이건 하반기 회고때...)  

이슈도 많았다.  
5월에 정산쪽에 이슈가 많아 이슈 대응으로 많은 시간을 보내고, 프로젝트 오픈이 한달채 안남았을때 팀장님과 메인 기획자가 바뀌면서 제대로 도전 시키는구나 싶었다.  
팀장님들간에 인수인계만으로도 정신이 없으셔서 성능 테스트와 QA는 
그래서 엄청 걱정하면서 했었다.  
아 진짜 이렇게 하면 오픈되는게 맞나 싶기도 하고, 아 진짜 한달만 더있었으면 좋겠다는 생각도 많이 했었다.  

시스템 전환 노하우도 많이 얻게 되었다.  
이번 신규 포인트 시스템은 오픈하면서 **점검 없이** 진행했다.  
즉, 사용자들이 주문은 주문대로 하면서 포인트 시스템이 오픈한 것이다.  
사용자들은 아마 포인트 시스템이 완전히 교체된걸 체감하지 못했을것이다.  
**포인트 적립도, 취소도 전부 돌아가고 있는 상태에서 교체**했으니깐.  
(포인트 사용은 막고 진행하긴 했다.)  
  




개인적인 소감이지만, 이 프로젝트로 **팀의 파워가 올라갔다**는 느낌을 확실히 받았다.  
우리팀은 팀 조합이 정말 좋다.  
인프라, 도메인지식, 어플리케이션 코드 등등 각자 자신의 전문분야가 확실하고 부족한 부분을 서로가 잘 메꿔주고 있다.  
이건 장점이면서도 확실한 단점인데, **한 사람이 빠지면 구멍이 굉장히 크다**.  

가령 예를 들어 인프라를 정말 잘하시는 분이 계시는데 그 분이 빠지면 인프라가 완전히 구멍이 생긴다.  
우리 팀은 사내에서 유일하게 AWS를 쓰지 않고 국내 IDC를 쓰고 서버/DB를 직접 다 관리하고 있다.  
(이젠 포인트 시스템 때문에 AWS를 쓰고 있는 팀이 됐다.)  
  
관리하는 서버 대수만 40대가 넘는다.  
(개발 서버, 테스트 서버 빼고)  
  
만약 이번 포인트 시스템도 그 분이 인프라를 구축하게 되면 그 분은 우리팀의 SPOF (Single point of failure)이 된다.  

그래서 일부러 이번 개편때는 그 분이 **인프라를 못하게 했다**.  
신규 포인트 시스템의 관리자 서비스와 레거시 프로시져를 랩핑한 API 개발을 맡기면서 어플리케이션 개발에만 집중시켰다.  

AWS 인프라와 CI/CD 배포환경, 완전히 개편된 신규 도메인 모델의 API는 내가 구축하고,  

다른 한분이 테이블마다 2 ~ 5억건이 되는 레거시 시스템을 새로운 도메인 모델로 마이그레이션을 진행해주셨다.  
마찬가지로 마이그레이션을 위한 인프라 환경 구축과 프로젝트 구성도 그 분이 직접 다 하셨다.  

> 레거시를 개편해보신 분들은 아시겠지만, **개편의 성공과 실패는 마이그레이션이 좌지우지**한다.  
예전 데이터를 신규 모델로 마이그레이션 못하면 서비스는 오픈 하지 못한다.  
우린 완전히 새로운 도메인 모델로 변경되서 단순히 데이터 복사하는 수준이 아니다보니 3개월안에 혼자서 마이그레이션이 가능할까 걱정이 됐다.  
근데 수많은 틀어진 데이터를 어떻게든 맞춰서 기간내에 마이그레이션이 끝났다.





이게 진짜 이벤트 소싱인지는 모르겠다.  
사실 이벤트 소싱으로 문제를 해결했다 라는 식의 
트래픽도 실제 주문양만큼 들어온다.  
그냥 모든 테이블은 수정/삭제가 없다.  
라고만 설명한다.  
뭔가 대단한게 아닌데 대단한것처럼 꾸미는것 같아서 건조하게 얘기하고 있다.

## 블로그

2018년 1월 ~ 7월까지 총 72개의 글을 썼다.  
월 평균 10개의 글을 쓴 셈이다.  
  
올해 쓴 글들을 되돌아보니, 시리즈물이 많았다.


* 스프링부트로 웹 서비스 출시하기 
* 3번째 직장에 오기까지
* AWS Code Deploy로 Jenkins & Spring Batch 배포 및 운영하기
* Jenkins로 Gradle Multi Module 프로젝트 AWS Beanstalk에 배포하기
* AWS Beanstalk으로 진행하는 성능 튜닝

브런치에 대해서는 다시 생각중이다.  
다른 것보다, 블로그에 글 쓰는 것보다 **브런치에 글 쓰는 것이 어떤 이득이 있는지** 느끼지 못하고 있다.  
브런치가 티스토리보다 좋은 건 분명 몇가지 있다.

* 웹 에디터는 확실히 브런치가 우세하다.
* 전용 모바일 앱이 있다.
* 별다른 디자인 없이도 UX가 이쁘게 나온다.
  
하지만 나는 글을 VS Code와 마크다운으로 작성하다보니 브런치가 더 불편하다.  
웹 에디터는 결국 단순 텍스트외에 다른 효과를 주려면 마우스에 손이 갈 수 밖에 없는데, 마크다운은 그럴 필요가 없이 키보드로 쭉 치면 되서 사실 브런치 에디터가 훨씬 더 불편하다.  

> 사실 VS Code와 마크다운으로 글 쓰는게 너무 편리하다.  
이건 그 어떤 웹 에디터에서도 못따라갈 것 같다.  
미디움이나 스팀잇, 네이버 블로그등과 같은 대세 플랫폼을 안쓰는 이유도 이것 때문이다.  
하물며 단축키 매핑을 IntelliJ Key Mapping을 쓰니 새로운 단축키를 외울 필요도 없는데 웹 에디터를 쓸리가 없다.  
브런치에서 오픈 API를 제공한다면 고민해볼것 같다.

  
더군다나 블로그는 어찌됐든 광고 수익이라도 오는데, 브런치는 그 어떤 수익도 없다.  
브런치로 **책을 낼 수 있다고 하지만, 조건이 굉장히 까다롭다**.  
개발자로서 브런치라는 플랫폼은 티스토리보다 전혀 매력적이지 않다.  
굳이 익숙한 개발툴과 단축키로 글을 쓸 수 있는 상황에서 브런치를 쓸 이유는 없을것 같다.  
(그것도 무보수로!)  
  
8월이면 티스토리에도 https가 지원되기 시작해서 더 사용율이 높아질것 같다.

## 교육

* 운영 서버 관리 마스터 워크샵

## 오픈소스

올해 상반기에는 1개의 오픈소스를 만들었다.  

* [Spring Boot AWS Mock](https://github.com/jojoldu/spring-boot-aws-mock)

이게 좋은 방법인지는 판단이 안서서 조심스럽지만, 이번 포인트 시스템을 구축하면서 외부에서 사용할 기능과 Queue에 메세지를 넣는 API 시스템과 Queue에서 메세지를 빨아들이는 메시지 워커 서비스 둘 다 **개발하면서 한번도 로컬에서 실행해본적이 없다**.  
  
모든걸 다 테스트 코드로만 실행하고 검증했다.  
실제 연동은 개발서버에 배포하고나서 사용해봤다.  
근데 아무런 문제가 없었다.  
그래서 좋았다.  

이제는 AWS SQS도 테스트 코드를 작성할 수 있게 되었다.
Jenkins에서 CI로 SQS 관련된 테스트 코드도 이제 수행할 수 있게 되었다.  

개인적인 가치관일수 있지만, 좋은 프로젝트는 git에서 클론 받으면 바로 로컬에서 실행해볼수 있어야하고 테스트 코드가 안깨지고 다 통과할 수 있어야 한다고 생각한다.  
SQS와 같이 특정 서비스에 락인된 서비스를 쓸때면 



## 발표 및 강의

상반기에 처음으로 커뮤니티에서 발표를 진행 했다.

* [(2월) KCD 2018 - IntelliJ IDEA만으로 개발하기](https://www.youtube.com/watch?v=wBXSUdT1jX0&t=2121s)
* [(4월) 우아한형제들 테크캠프 밋업](https://gmlwjd9405.github.io/2018/04/27/woowabros-tech-meetup.html)
* [(7월) 인프런 - IntelliJ IDEA 가이드](https://www.inflearn.com/course/intellij-guide/)

## 하반기에는?

일단 2가지 교육을 신청했다.

* 패스트캠퍼스의 [DevOps로 활용하는 클라우드 플랫폼 Workshop](https://www.fastcampus.co.kr/data_camp_cpb/)
* 사내 Java 교육

올 하반기의 컨셉은 Back To The Basic이다.  

좋은 시니어 개발자가 되기 위해선 다양한 언어를 할 줄 알아야 한다고 생각하진 않는다.  
  



네트워크, 리눅스 커널, RDBMS, 메세징, DDD, 테스트 코드, 코드/시스템 디자인 등을 더 잘하고 싶다.  
이 중에서 특출나게 잘하는게 없을수도 있지만, 그래도 두루두루 잘하고 싶다.  
풀스택 개발자나, DevOps 개발자와 같은 그런 거창한 단어를 붙이고 싶은게 아니다.  
그냥 **백엔드 개발자로서 어떤 문제가 발생하면 그 문제를 해결하기 위해 Java 코드만 쳐다보는 개발자가 되고 싶지 않을뿐**이다.  
큰 그림을 그릴줄 알면서 기본기도 탄탄한 그런 백엔드 개발자가 되고 싶다.  
진짜 탄탄한 개발자가 되고 싶다.  





그리고 개인적으로 부채로 생각만 하고 있는 영어 공부를 시작하려고 한다.
조은님의 [패스트원 후기](https://blog.naver.com/apes0113/221327173912)를 보고 진짜 시작해야겠다고 생각하게 됐다.  
막연하게 영어 공부를 해야겠다고만 생각하면 진행이 잘 안되어서 배운 영어로 단기간에 해낼 수 있는 목표를 세웠다.  

> 아마 조은님은 패스트원 강의를 들었던 것이 GDE (Google Developers Experts) 인터뷰 때문이셨던것 같다. (실제로 이번에 GDE가 되셨다. 갓조은....)

개인적으로 생각해놓은 목표인데, 이건 실행하게 되면 그때 공개할 예정이다.  
(안하면 부끄러우니깐)  
그 목표를 생각하면 영어 공부할 마음이 바로 생겨서 목표 자체는 잘 세운것 같다.  
아마 당장은 못할것 같고 한 10월쯤되면 시작할수 있지 않을까 싶다.  
  
회사의 중요한 프로젝트 TF로 합류하게 되어 10월까지는 굉장히 바쁠것 같아 당장 평일 저녁에 수업을 신청할수는 없을것 같다.  
10월까지는 회사의 프로젝트와 신청한 교육에 최선을 다하자.  
  


